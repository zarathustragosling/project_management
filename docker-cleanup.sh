#!/bin/bash

# ?????? ??? ??????? ?????????????? Docker-????????

echo "???????? ??????? Docker-????????..."

# ????????? ? ???????? ???? ??????????? ? ?????
echo "????????????? ? ??????? ??? ?????????? ? ????..."
docker compose down -v --remove-orphans

# ???????? ?????????????? ???????
echo "??????? ?????????????? ??????..."
docker image prune -a -f

# ???????? ?????????????? ?????
echo "??????? ?????????????? ????..."
docker volume prune -f

# ???????? ?????????????? ?????
echo "??????? ?????????????? ????..."
docker network prune -f

# ???????? ???? ?????????????? ???????? (??????????, ??????, ????, ????)
echo "??????? ??? ?????????????? ???????..."
docker system prune -a -f --volumes

# ???????? ?????????? ? ???????? ???????????? Docker
echo "?????????? ? ???????? ???????????? Docker:"
docker system df

echo "??????? Docker-???????? ?????????."