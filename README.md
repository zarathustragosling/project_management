# Система управления проектами - Инструкция по деплою

## Обзор

Этот проект представляет собой систему управления проектами, разработанную на Flask. Для деплоя используется Docker и Docker Compose, что обеспечивает простоту установки и запуска на любом сервере.

## Структура Docker-контейнеров

Проект состоит из трех основных контейнеров:
1. **web** - Flask-приложение
2. **db** - MySQL база данных
3. **nginx** - Веб-сервер для обработки запросов и статических файлов

## Требования для деплоя

- Ubuntu 22.04
- Docker
- Docker Compose

## Быстрый старт

1. Клонируйте репозиторий на ваш сервер
2. Настройте переменные окружения в файле `.env`
3. Запустите приложение с помощью Docker Compose:

```bash
docker-compose up -d
```

4. Приложение будет доступно по адресу http://ваш_сервер

## Подробная инструкция по деплою

Подробная инструкция по деплою находится в файле [deploy.md](deploy.md).

## Настройка переменных окружения

Перед запуском приложения необходимо настроить переменные окружения в файле `.env`. Пример файла:

```
# Настройки базы данных
MYSQL_DATABASE=project_management
MYSQL_USER=pmuser
MYSQL_PASSWORD=pmpassword
MYSQL_ROOT_PASSWORD=rootpassword

# Настройки Flask
FLASK_ENV=production
SECRET_KEY=your_secret_key_here

# Настройки администратора
ADMIN_PASSWORD=admin123

# Настройки сервера
APP_PORT=5000
NGINX_PORT=80
```

## Учетные данные по умолчанию

После первого запуска будет создан пользователь-администратор со следующими учетными данными:
- Логин: admin
- Пароль: значение из переменной окружения ADMIN_PASSWORD (по умолчанию admin123)

## Резервное копирование

Для создания резервной копии базы данных выполните:

```bash
docker-compose exec db mysqldump -u pmuser -ppmpassword project_management > backup.sql
```

## Обновление приложения

Для обновления приложения:

```bash
docker-compose down
docker-compose up -d --build
```

## Мониторинг

Для просмотра логов приложения:

```bash
docker-compose logs -f web
```