{% extends 'base.html' %}
{% block title %}–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–∞–Ω–¥—ã{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto px-4 py-10 space-y-8">
  <h1 class="text-3xl font-bold text-white">üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–∞–Ω–¥—ã</h1>


  <form method="POST" class="bg-slate-800 p-6 rounded-xl space-y-4" enctype="multipart/form-data">
    <div>
      <label for="name" class="text-white text-sm block mb-1">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã</label>
      <input type="text" id="name" name="name" required value="{{ team.name }}"
             class="w-full p-3 bg-gray-900 text-white rounded border border-gray-700">
    </div>

    <div>
      <label for="avatar_url" class="text-white text-sm block mb-1">URL –∞–≤–∞—Ç–∞—Ä–∞</label>
      <input type="url" id="avatar_url" name="avatar_url" value="{{ team.avatar_url }}"
             class="w-full p-3 bg-gray-900 text-white rounded border border-gray-700">
    </div>

    <div>
      <label for="description" class="text-white text-sm block mb-1">–û–ø–∏—Å–∞–Ω–∏–µ</label>
      <textarea id="description" name="description" rows="3"
                class="w-full p-3 bg-gray-900 text-white rounded border border-gray-700">{{ team.description }}</textarea>
    </div>

    <button type="submit"
            class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium text-sm transition">
      üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
    </button>
  </form>


  <!-- –ë–ª–æ–∫ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ -->
  <div class="bg-slate-800 p-6 rounded-xl space-y-4 border border-slate-700">
    <h2 class="text-xl font-semibold text-white">üì® –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥</h2>
    <div class="flex items-center gap-3">
      <input type="text" id="invite-code" value="{{ team.invite_code }}"
             class="bg-gray-900 text-white px-4 py-2 rounded border border-gray-700 w-full" readonly>
      <button onclick="copyCode()" class="btn btn-sm">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
    
      <form method="POST" action="{{ url_for('team.refresh_invite_code') }}">
        <button type="submit" class="btn btn-sm bg-yellow-500 hover:bg-yellow-600 text-black">‚ôªÔ∏è –ù–æ–≤—ã–π –∫–æ–¥</button>
      </form>
      
    </div>
    <p class="text-sm text-slate-400">–ö–æ–¥ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º, —á—Ç–æ–±—ã –æ–Ω–∏ –º–æ–≥–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∫–æ–º–∞–Ω–¥–µ.</p>
  </div>
</div>

<script>
  function copyCode() {
    const input = document.getElementById("invite-code");
    input.select();
    input.setSelectionRange(0, 99999);
    navigator.clipboard.writeText(input.value);
  }
</script>
{% endblock %}
