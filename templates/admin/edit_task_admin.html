{% extends 'base.html' %}
{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ó–∞–¥–∞—á—É{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto px-4 py-10 space-y-8">
  <h1 class="text-3xl font-bold text-white">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ó–∞–¥–∞—á—É</h1>

  <form method="POST" class="bg-slate-800 p-6 rounded-xl space-y-4">

    <div>
      <label for="title" class="text-white text-sm block mb-1">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
      <input type="text" id="title" name="title" value="{{ task.title }}" required
             class="w-full p-3 bg-gray-900 text-white rounded border border-gray-700">
    </div>

    <div>
      <label for="description" class="text-white text-sm block mb-1">–û–ø–∏—Å–∞–Ω–∏–µ</label>
      <textarea id="description" name="description" rows="3"
                class="w-full p-3 bg-gray-900 text-white rounded border border-gray-700">{{ task.description }}</textarea>
    </div>

    <div>
      <label for="priority" class="text-white text-sm block mb-1">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
      <select id="priority" name="priority"
              class="w-full p-3 bg-gray-900 text-white rounded border border-gray-700">
        <option value="–ù–∏–∑–∫–∏–π" {% if task.priority == '–ù–∏–∑–∫–∏–π' %}selected{% endif %}>–ù–∏–∑–∫–∏–π</option>
        <option value="–°—Ä–µ–¥–Ω–∏–π" {% if task.priority == '–°—Ä–µ–¥–Ω–∏–π' %}selected{% endif %}>–°—Ä–µ–¥–Ω–∏–π</option>
        <option value="–í—ã—Å–æ–∫–∏–π" {% if task.priority == '–í—ã—Å–æ–∫–∏–π' %}selected{% endif %}>–í—ã—Å–æ–∫–∏–π</option>
      </select>
    </div>

    <div>
      <label for="status" class="text-white text-sm block mb-1">–°—Ç–∞—Ç—É—Å</label>
      <select id="status" name="status"
              class="w-full p-3 bg-gray-900 text-white rounded border border-gray-700">
        <option value="To Do" {% if task.status.value == 'To Do' %}selected{% endif %}>To Do</option>
        <option value="In Progress" {% if task.status.value == 'In Progress' %}selected{% endif %}>In Progress</option>
        <option value="Done" {% if task.status.value == 'Done' %}selected{% endif %}>Done</option>
      </select>
    </div>

    <div>
      <label for="deadline" class="text-white text-sm block mb-1">–î–µ–¥–ª–∞–π–Ω</label>
      <input type="date" id="deadline" name="deadline"
             value="{{ task.deadline.strftime('%Y-%m-%d') if task.deadline else '' }}"
             class="w-full p-3 bg-gray-900 text-white rounded border border-gray-700">
    </div>

    <button type="submit"
            class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium text-sm transition">
      üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
    </button>
  </form>
</div>
{% endblock %}
