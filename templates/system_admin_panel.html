{% extends 'base.html' %}
{% block title %}ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-6 py-8 space-y-10">

  <h1 class="text-3xl font-bold text-white mb-6">âš™ï¸ ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ°</h1>

  <!-- USERS -->
  <section>
    <h2 class="text-xl font-semibold text-white mb-2">ğŸ‘¤ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸</h2>
    <ul class="space-y-2">
      {% for user in users %}
      <li class="bg-slate-900 p-4 rounded flex justify-between items-start">
        <div>
          <strong>{{ user.username }}</strong> â€” {{ user.email }}<br>
          ğŸ· Ğ Ğ¾Ğ»ÑŒ: {{ user.role.name if user.role else "N/A" }}{% if user.is_admin %} (Admin){% endif %}
        </div>
        <div class="space-x-2">
          <a href="{{ url_for('admin.admin_edit_user', user_id=user.id) }}" class="text-blue-400 hover:underline text-sm">âœï¸</a>
          <form method="POST" action="{{ url_for('admin.admin_delete_user', user_id=user.id) }}" class="inline">
            <button type="submit" class="text-red-500 hover:underline text-sm">ğŸ—‘</button>
          </form>
        </div>
      </li>
      {% endfor %}
    </ul>
  </section>

  <!-- TEAMS -->
  <section>
    <h2 class="text-xl font-semibold text-white mb-2">ğŸ‘¥ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹</h2>
    <ul class="space-y-2">
      {% for team in teams %}
      <li class="bg-slate-900 p-4 rounded flex justify-between items-start">
        <div>
          <strong>{{ team.name }}</strong><br>
          {{ team.description or "Ğ‘ĞµĞ· Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ" }}
        </div>
        <div class="space-x-2">
          <a href="{{ url_for('admin.admin_edit_team', team_id=team.id) }}" class="text-blue-400 hover:underline text-sm">âœï¸</a>
          <form method="POST" action="{{ url_for('admin.admin_delete_team', team_id=team.id) }}" class="inline">
            <button type="submit" class="text-red-500 hover:underline text-sm">ğŸ—‘</button>
          </form>
        </div>
      </li>
      {% endfor %}
    </ul>
  </section>

  <!-- PROJECTS -->
  <section>
    <h2 class="text-xl font-semibold text-white mb-2">ğŸ“ ĞŸÑ€Ğ¾ĞµĞºÑ‚Ñ‹</h2>
    <ul class="space-y-2">
      {% for project in projects %}
      <li class="bg-slate-900 p-4 rounded flex justify-between items-start">
        <div>
          <strong>{{ project.name }}</strong><br>
          {{ project.description or "Ğ‘ĞµĞ· Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ" }}
        </div>
        <div class="space-x-2">
          <a href="{{ url_for('admin.admin_edit_project', project_id=project.id) }}" class="text-blue-400 hover:underline text-sm">âœï¸</a>
          <form method="POST" action="{{ url_for('admin.admin_delete_project', project_id=project.id) }}" class="inline">
            <button type="submit" class="text-red-500 hover:underline text-sm">ğŸ—‘</button>
          </form>
        </div>
      </li>
      {% endfor %}
    </ul>
  </section>

  <!-- TASKS -->
  <section>
    <h2 class="text-xl font-semibold text-white mb-2">ğŸ“ Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸</h2>
    <ul class="space-y-2">
      {% for task in tasks %}
      <li class="bg-slate-900 p-4 rounded flex justify-between items-start">
        <div>
          <strong>{{ task.title }}</strong><br>
          {{ task.status.value }} | ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: {{ task.priority }}<br>
          ĞŸÑ€Ğ¾ĞµĞºÑ‚: {{ task.project.name }}
        </div>
        <div class="space-x-2">
          <a href="{{ url_for('admin.admin_edit_task', task_id=task.id) }}" class="text-blue-400 hover:underline text-sm">âœï¸</a>
          <form method="POST" action="{{ url_for('admin.admin_delete_task', task_id=task.id) }}" class="inline">
            <button type="submit" class="text-red-500 hover:underline text-sm">ğŸ—‘</button>
          </form>
        </div>
      </li>
      {% endfor %}
    </ul>
  </section>

  <!-- COMMENTS -->
  <section>
    <h2 class="text-xl font-semibold text-white mb-2">ğŸ’¬ ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸</h2>
    <ul class="space-y-2">
      {% for comment in comments %}
      <li class="bg-slate-900 p-4 rounded flex justify-between items-start">
        <div>
          <strong>{{ comment.author.username }}</strong> â€” {{ comment.content[:50] }}...
        </div>
        <div class="space-x-2">
          <a href="{{ url_for('admin.admin_edit_comment', comment_id=comment.id) }}" class="text-blue-400 hover:underline text-sm">âœï¸</a>
          <form method="POST" action="{{ url_for('admin.admin_delete_comment', comment_id=comment.id) }}" class="inline">
            <button type="submit" class="text-red-500 hover:underline text-sm">ğŸ—‘</button>
          </form>
        </div>
      </li>
      {% endfor %}
    </ul>
  </section>

</div>
{% endblock %}
